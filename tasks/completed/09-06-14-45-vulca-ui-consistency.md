# [任务-09-06-14-45] VULCA UI一致性和数据展示问题调查

**创建时间**: 2025-09-06 14:45
**状态**: 研究完成
**优先级**: 高

## 需求来源
用户报告网站设计存在以下问题：
1. 主页有rankings的简化列表，但没有显示47D评分
2. Rankings页面有47D和view两种查看方式，但两个展示的不是同一个分数和信息
3. 47D显示中没有真实数据，应该参考VULCA的细节
4. VULCA单独分区无法打开

## 目标和范围
**主要目标**: 
- 调查并理解UI一致性问题
- 确认47D数据展示问题
- 验证VULCA分区访问问题
- 提供修复方案

**范围**: 
- 主页Rankings组件
- Rankings页面的双视图模式
- 47D数据集成
- VULCA页面路由和组件

**排除**: 
- 后端API修改（除非必要）
- 数据库结构改动

## 关键约束
- 保持iOS设计系统一致性
- 不影响现有功能
- 确保数据准确性

## 架构影响评估
- 前端组件需要修改以显示真实VULCA数据
- 可能需要更新API响应格式
- 需要统一不同页面的数据源

## 关键决策记录
- 使用KISS原则，优先修复数据加载问题
- 统一使用单一数据源避免不一致
- 真实VULCA数据应从后端API获取

## 执行计划
1. 修复主页数据加载问题
2. 更新47D视图使用真实VULCA数据
3. 统一分数显示逻辑
4. 修复VULCA页面API错误
5. 测试所有页面数据一致性

## 当前进度
研究完成，已发现所有问题并分析根本原因

## 调查发现

### 1. 主页Rankings组件问题
**现象**：主页的Model Rankings表格显示"No data"
**原因**：数据没有正确加载，useLeaderboard hook返回空数组
**影响**：用户在主页看不到任何排名数据

### 2. Rankings页面47D视图问题  
**现象**：Rankings页面有47D按钮，点击后可以展开显示图表
**问题**：
- 47D展示的数据是模拟数据（Dim 0-9），不是真实的47个维度
- 显示的平均分数(97.0)与表格中的Overall Score(90.300)不一致
- 维度名称显示为"Dim 0, Dim 1..."而不是真实的维度名称

### 3. VULCA页面访问问题
**现象**：VULCA页面一直显示"Initializing VULCA System..."
**错误**：控制台显示400 Bad Request错误，API调用失败
**原因**：后端API `/api/v1/vulca/compare` 返回400错误

### 4. 数据一致性问题
**发现**：
- 主页没有数据但Rankings页面有42个模型数据
- 47D视图显示的分数与Overall Score不匹配
- VULCA数据结构存在但内容是模拟的

## 待解决问题
1. 修复主页数据加载问题
2. 集成真实的47D VULCA数据
3. 统一不同视图的分数显示
4. 修复VULCA页面API调用错误
5. 确保所有页面数据一致性

## 用户对话记录
### 第1轮 [2025-09-06 14:45] - [任务确认模式]
**用户原文**: 进入任务确认模式 我需要知道现在的网站设计的问题，比如主页有rankings的简化列表，但是没有47D，然后rankings有47D和view两个方式看，但是两个展示的不是一个分数和信息。另外， 现在的47D里面并没有真实的数据，47D的真实内容应该参考vulca的细节。最后我们还有一个vulca的单独分区，这个分区现在没有办法打开。我需要你，先理解我的需求和我的问题，然后彻底调研，研究我说的问题。
**关键要点**: 
- UI一致性问题：主页Rankings缺少47D
- 数据一致性问题：Rankings页面双视图显示不同数据
- 数据真实性问题：47D缺少真实VULCA数据
- 访问性问题：VULCA分区无法打开
- 需要彻底调研这些问题

### 第2轮 [2025-09-06 20:00] - [研究模式]
**用户原文**: 好的开始调研吧。
**关键要点**: 用户确认开始调研任务