# WenXin MoYun - Production Environment Variables Template
# Copy this file to .env.production and update with real values

# ===============================
# PROJECT CONFIGURATION
# ===============================
PROJECT_ID=wenxin-moyun-prod
ENVIRONMENT=production
DEBUG=false

# ===============================
# GOOGLE CLOUD CONFIGURATION
# ===============================
GCP_REGION=asia-east1
GCP_ZONE=asia-east1-a
BUCKET_NAME=${PROJECT_ID}-static
ARTIFACT_REGISTRY=${GCP_REGION}-docker.pkg.dev/${PROJECT_ID}/wenxin-images

# ===============================
# DATABASE CONFIGURATION
# ===============================
# Cloud SQL PostgreSQL
DB_INSTANCE_NAME=wenxin-postgres
DB_NAME=wenxin_db
DB_USER=wenxin
# DB_PASSWORD will be stored in Secret Manager

# Connection string for Cloud SQL (with Unix socket)
DATABASE_URL=postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@/${DB_NAME}?host=/cloudsql/${PROJECT_ID}:${GCP_REGION}:${DB_INSTANCE_NAME}

# ===============================
# APPLICATION SECURITY
# ===============================
# SECRET_KEY will be stored in Secret Manager
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days
ALGORITHM=HS256

# ===============================
# AI PROVIDER CONFIGURATION
# ===============================
# All API keys will be stored in Secret Manager
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...
# GEMINI_API_KEY=...
# DEEPSEEK_API_KEY=...
# QWEN_API_KEY=...
# XAI_API_KEY=...
# OPENROUTER_API_KEY=...
# HUGGINGFACE_API_KEY=...

# AI Provider Settings
OPENAI_MAX_RETRIES=3
ANTHROPIC_MAX_RETRIES=3
DEFAULT_MODEL_TIMEOUT=30

# ===============================
# FRONTEND CONFIGURATION
# ===============================
# Frontend will be deployed to Cloud Storage + CDN
VITE_API_BASE_URL=https://wenxin-moyun-api-${GCP_REGION}.run.app
VITE_API_VERSION=v1
VITE_API_TIMEOUT=30000
VITE_CDN_URL=https://storage.googleapis.com/${BUCKET_NAME}

# ===============================
# CLOUD RUN CONFIGURATION
# ===============================
CLOUD_RUN_SERVICE=wenxin-moyun-api
CLOUD_RUN_MIN_INSTANCES=0
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_MEMORY=2Gi
CLOUD_RUN_CPU=1
CLOUD_RUN_CONCURRENCY=100
CLOUD_RUN_TIMEOUT=300

# ===============================
# CACHING AND PERFORMANCE
# ===============================
REDIS_URL=redis://redis:6379/0  # Optional: Cloud Memorystore
CACHE_TTL=300
ENABLE_CACHING=true

# ===============================
# MONITORING AND LOGGING
# ===============================
LOG_LEVEL=INFO
ENABLE_METRICS=true
SENTRY_DSN=  # Optional: Error tracking

# ===============================
# CORS CONFIGURATION
# ===============================
CORS_ORIGINS=https://storage.googleapis.com,https://${BUCKET_NAME}.appspot.com
ALLOWED_HOSTS=*.run.app,*.googleapis.com

# ===============================
# RATE LIMITING
# ===============================
GUEST_DAILY_LIMIT=5
AUTHENTICATED_DAILY_LIMIT=50
RATE_LIMIT_PER_MINUTE=60

# ===============================
# FILE STORAGE
# ===============================
UPLOAD_BUCKET=${PROJECT_ID}-uploads
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# ===============================
# FEATURE FLAGS
# ===============================
ENABLE_REAL_AI_EVALUATION=true
ENABLE_BATTLE_MODE=true
ENABLE_GUEST_MODE=true
ENABLE_BENCHMARKS=true

# ===============================
# BACKUP AND MAINTENANCE
# ===============================
BACKUP_SCHEDULE=0 3 * * *  # Daily at 3 AM
MAINTENANCE_WINDOW=Sunday 04:00-06:00 UTC+8

# ===============================
# NOTIFICATION CONFIGURATION
# ===============================
# EMAIL_FROM=noreply@wenxin-moyun.com
# EMAIL_PROVIDER=sendgrid  # or ses, mailgun
# SLACK_WEBHOOK_URL=  # For deployment notifications

# ===============================
# CDN AND STATIC ASSETS
# ===============================
CDN_DOMAIN=cdn.wenxin-moyun.com  # Optional custom domain
STATIC_URL=https://storage.googleapis.com/${BUCKET_NAME}/
MEDIA_URL=https://storage.googleapis.com/${PROJECT_ID}-uploads/

# ===============================
# HEALTH CHECK CONFIGURATION
# ===============================
HEALTH_CHECK_TIMEOUT=5
DB_HEALTH_CHECK_ENABLED=true
AI_PROVIDER_HEALTH_CHECK_ENABLED=false  # To avoid API costs

# ===============================
# ANALYTICS (Optional)
# ===============================
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
# MIXPANEL_TOKEN=
# HOTJAR_ID=